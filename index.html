<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Krautermeister - Origen y carácter</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Manrope:wght@300;400;500;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
  <link rel="preload" href="three.min.js" as="script" />
  <!-- Three.js & Loaders - Deferred loading -->
  <script defer src="three.min.js"></script>
  <script defer src="GLTFLoader.js"></script>
  <script defer src="DRACOLoader.js"></script>
</head>
<body>
  <div class="cursor" aria-hidden="true"></div>

  <div id="preloader" class="preloader" aria-live="polite">
    <div class="preloader__wrap">
      <div class="preloader__logo" aria-hidden="true">
        <img src="logo.png" alt="" width="90" height="90" />
      </div>
      <div class="preloader__bottle" role="img" aria-label="Botella minimalista">
        <div class="preloader__sweep" aria-hidden="true"></div>
        <div class="preloader__particles" aria-hidden="true">
          <span></span><span></span><span></span><span></span><span></span>
          <span></span><span></span><span></span><span></span><span></span>
        </div>
        <svg viewBox="0 0 120 320" class="bottle" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <linearGradient id="liquidGradient" x1="0" x2="0" y1="1" y2="0">
              <stop offset="0" stop-color="#1b3a2b" />
              <stop offset="1" stop-color="#2a4f3c" />
            </linearGradient>
            <filter id="liquidGlow" x="-60%" y="-60%" width="220%" height="220%">
              <feGaussianBlur stdDeviation="6" result="blur" />
              <feMerge>
                <feMergeNode in="blur" />
                <feMergeNode in="SourceGraphic" />
              </feMerge>
            </filter>
          </defs>
          <path class="bottle-outline" d="M48 12h24v26c0 6 4 10 8 12 8 4 14 12 14 22v188c0 22-18 40-40 40s-40-18-40-40V72c0-10 6-18 14-22 4-2 8-6 8-12V12z" />
          <rect class="bottle-liquid" x="26" y="268" width="58" height="0" rx="10" ry="10" />
          <path class="bottle-neck" d="M48 12h24v26c0 6 4 10 8 12 2 1 4 2 6 4H34c2-2 4-3 6-4 4-2 8-6 8-12V12z" />
        </svg>
      </div>
      <div class="preloader__percent">
        <span id="loaderValue">0%</span>
      </div>
      <p class="preloader__label">Destilando un ritual oscuro</p>
    </div>
  </div>

  <header class="navbar" id="navbar">
    <div class="navbar__inner">
      <div class="logo">
        <img src="logo.png" alt="Krautermeister" class="logo__img" width="40" height="40" />
        <span>KRAUTERMEISTER</span>
      </div>
      <nav class="nav">
        <a href="#origen">Origen</a>
        <a href="#bottle">Botella</a>
        <a href="#editorial">Editorial</a>
        <a href="#ritual">Ritual</a>
      </nav>
      <button class="nav-cta">Reservar</button>
    </div>
  </header>

  <main>
    <section class="hero" id="origen">
      <div class="hero__video">
        <video autoplay muted loop playsinline preload="metadata" poster="">
          <source src="video.mp4" type="video/mp4" />
        </video>
        <div class="hero__overlay"></div>
        <div class="hero__gradient" aria-hidden="true"></div>
      </div>
      <div class="hero__brand-logo" aria-hidden="true">
        <img src="logo krauter sin fondo.png" alt="Krautermeister" />
      </div>
      <p class="hero__tagline eyebrow">Licor argentino de autor</p>
      <div class="hero__content">
        <h1 class="hero__title">
          <span class="hero__line hero__glow-line">ORIGEN Y</span>
          <span class="hero__line hero__glow-line">CARÁCTER OSCURO.</span>
          <span class="hero__line hero__line--accent hero__glow-line">HERBAL.</span>
          <span class="hero__line hero__glow-line">INOLVIDABLE.</span>
        </h1>
        <p class="hero__text hero__glow-text">Un perfil herbal profundo, afinado con paciencia europea y alma patagónica.</p>
        <div class="hero__actions">
          <button class="btn primary btn--liquid">Explorar</button>
          <button class="btn ghost btn--liquid">Ver origen</button>
        </div>
      </div>
      <div class="hero__glow" aria-hidden="true"></div>
      <div class="hero__light-reflections" aria-hidden="true">
        <div class="reflection reflection-1"></div>
        <div class="reflection reflection-2"></div>
      </div>
    </section>

    <section class="bottle-section" id="bottle">
      <div class="bottle-section__canvas-wrapper">
        <canvas id="bottle3d" class="bottle-3d-canvas"></canvas>
        <div class="bottle-3d-halo" aria-hidden="true"></div>
        <div class="bottle-3d-halo bottle-3d-halo--secondary" aria-hidden="true"></div>
        <div class="bottle-3d-particles" aria-hidden="true">
          <span class="bottle-3d-particle"></span>
          <span class="bottle-3d-particle"></span>
          <span class="bottle-3d-particle"></span>
          <span class="bottle-3d-particle"></span>
          <span class="bottle-3d-particle"></span>
          <span class="bottle-3d-particle"></span>
          <span class="bottle-3d-particle"></span>
          <span class="bottle-3d-particle"></span>
        </div>
        <div class="bottle-3d-light-stream" aria-hidden="true"></div>
      </div>
      <div class="bottle-section__text reveal">
        <h2 class="premium-title premium-title--left">
          <span class="word" data-word="LA">LA</span>
          <span class="word word--outline" data-word="BOTELLA">BOTELLA</span>
          <span class="word word--accent" data-word="COMO">COMO</span>
          <span class="word word--glow" data-word="AMULETO">AMULETO</span>
        </h2>
        <div class="bottle-mystique">
          <p class="premium-copy premium-copy--left">
            <span class="copy-word">Una</span>
            <span class="copy-word">silueta</span>
            <span class="copy-word">que</span>
            <span class="copy-word">no</span>
            <span class="copy-word">busca</span>
            <span class="copy-word copy-word--accent">llamar,</span>
            <span class="copy-word">sino</span>
            <span class="copy-word copy-word--glow">atraer.</span>
            <span class="copy-word copy-word--outline">Oscura,</span>
            <span class="copy-word">serena,</span>
            <span class="copy-word">con</span>
            <span class="copy-word">un</span>
            <span class="copy-word copy-word--accent">brillo</span>
            <span class="copy-word copy-word--glow">sutil</span>
            <span class="copy-word">que</span>
            <span class="copy-word">revela</span>
            <span class="copy-word">su</span>
            <span class="copy-word">esencia.</span>
          </p>
        </div>
      </div>
    </section>

    <section class="editorial" id="editorial">
      <!-- Background Elements -->
      <div class="editorial__bg"></div>
      <div class="editorial__noise" aria-hidden="true"></div>
      
      <!-- Mystical Particles -->
      <div class="editorial__particles" aria-hidden="true">
        <div class="edit-particle edit-particle-1"></div>
        <div class="edit-particle edit-particle-2"></div>
        <div class="edit-particle edit-particle-3"></div>
        <div class="edit-particle edit-particle-4"></div>
        <div class="edit-particle edit-particle-5"></div>
        <div class="edit-particle edit-particle-6"></div>
      </div>

      <!-- Floating Smoke/Haze Effect -->
      <div class="editorial__haze" aria-hidden="true">
        <div class="haze-layer haze-1"></div>
        <div class="haze-layer haze-2"></div>
        <div class="haze-layer haze-3"></div>
      </div>

      <!-- Halo Light from Bottle -->
      <div class="editorial__halo-glow" aria-hidden="true"></div>
      
      <!-- Flowing Light Stream -->
      <div class="editorial__light-stream" aria-hidden="true"></div>
      
      <div class="editorial__watermark" aria-hidden="true">
        <img src="logo.png" alt="" />
      </div>

      <div class="editorial__intro">
        <h2 class="premium-title premium-title--center">
          <span class="word word--outline" data-word="EDITORIAL">EDITORIAL</span>
          <span class="word word--accent" data-word="HERBAL">HERBAL</span>
        </h2>
        <p class="premium-copy premium-copy--center">
          <span class="copy-word">Fragmentos</span>
          <span class="copy-word copy-word--glow">visuales,</span>
          <span class="copy-word">texturas</span>
          <span class="copy-word">y</span>
          <span class="copy-word copy-word--outline">sombras</span>
          <span class="copy-word">que</span>
          <span class="copy-word">hablan</span>
          <span class="copy-word">del</span>
          <span class="copy-word copy-word--accent">origen</span>
          <span class="copy-word">y</span>
          <span class="copy-word copy-word--glow">carácter.</span>
        </p>
      </div>

      <div class="editorial__story">
        <article class="editorial__scene scene--wide">
          <div class="editorial__media clip-animate clip-a drift-x" data-depth="0.18" data-drift="-60" data-rotate="2">
            <img src="kreu5.jpeg" alt="Bosque herbal" loading="lazy" />
            <span class="editorial__veil"></span>
            <span class="editorial__sweep"></span>
          </div>
          <div class="editorial__text">
            <h3 class="premium-subtitle premium-subtitle--right">
              <span class="word">LA</span>
              <span class="word word--accent">PENUMBRA</span>
              <span class="word word--outline">DEL</span>
              <span class="word word--glow">BOSQUE</span>
            </h3>
            <p class="premium-copy premium-copy--right">
              <span class="copy-word">Notas</span>
              <span class="copy-word copy-word--glow">verdes,</span>
              <span class="copy-word copy-word--accent">musgo</span>
              <span class="copy-word copy-word--outline">oscuro</span>
              <span class="copy-word">y</span>
              <span class="copy-word">una</span>
              <span class="copy-word">calma</span>
              <span class="copy-word">que</span>
              <span class="copy-word">sugiere</span>
              <span class="copy-word">tiempo.</span>
              <span class="copy-word">El</span>
              <span class="copy-word copy-word--glow">misterio</span>
              <span class="copy-word">nace</span>
              <span class="copy-word">en</span>
              <span class="copy-word">silencio.</span>
            </p>
          </div>
        </article>

        <div class="premium-quote">
          <span class="quote-word">EL</span>
          <span class="quote-word quote-word--accent">SILENCIO</span>
          <span class="quote-word quote-word--outline">TAMBIÉN</span>
          <span class="quote-word">SE</span>
          <span class="quote-word quote-word--glow">BEBE.</span>
        </div>

        <div class="editorial__scene scene--fullscreen">
          <div class="editorial__media fullscreen-media" data-depth="0.06">
            <img src="kreu4.jpg" alt="Luz sobre botanicos" loading="lazy" />
            <span class="editorial__veil"></span>
          </div>
          <div class="editorial__overlay-text">
            <h3 class="premium-subtitle premium-subtitle--left">
              <span class="word word--outline">UN</span>
              <span class="word word--accent">PLANO</span>
              <span class="word word--glow">EXTENDIDO</span>
            </h3>
            <p class="premium-copy premium-copy--left">
              <span class="copy-word">La</span>
              <span class="copy-word copy-word--glow">luz</span>
              <span class="copy-word">cae</span>
              <span class="copy-word">despacio.</span>
              <span class="copy-word">El</span>
              <span class="copy-word copy-word--accent">perfil</span>
              <span class="copy-word copy-word--outline">herbal</span>
              <span class="copy-word">se</span>
              <span class="copy-word">abre</span>
              <span class="copy-word">y</span>
              <span class="copy-word">se</span>
              <span class="copy-word">queda,</span>
              <span class="copy-word">como</span>
              <span class="copy-word">un</span>
              <span class="copy-word copy-word--glow">recuerdo</span>
              <span class="copy-word copy-word--accent">europeo.</span>
            </p>
          </div>
        </div>

        <div class="premium-quote premium-quote--xl">
          <span class="quote-word quote-word--outline">NADA</span>
          <span class="quote-word">ES</span>
          <span class="quote-word">CASUAL.</span>
          <span class="quote-word quote-word--accent">TODO</span>
          <span class="quote-word">ES</span>
          <span class="quote-word quote-word--glow">HERBAL.</span>
        </div>

        <article class="editorial__scene scene--closing">
          <div class="editorial__media clip-animate clip-e drift-x tilt-left" data-depth="0.12" data-drift="-40" data-rotate="2">
            <img src="kreu1.jpg" alt="Textura" loading="lazy" />
            <span class="editorial__veil"></span>
            <span class="editorial__sweep"></span>
          </div>
          <div class="editorial__text">
            <h3 class="premium-subtitle premium-subtitle--center">
              <span class="word word--accent">FINAL</span>
              <span class="word word--outline">LARGO,</span>
              <span class="word word--glow">MEMORIA</span>
              <span class="word">VIVA</span>
            </h3>
            <p class="premium-copy premium-copy--center">
              <span class="copy-word">Una</span>
              <span class="copy-word">estética</span>
              <span class="copy-word copy-word--glow">sobria</span>
              <span class="copy-word">que</span>
              <span class="copy-word">respira.</span>
              <span class="copy-word copy-word--outline">Oscura,</span>
              <span class="copy-word copy-word--accent">herbal,</span>
              <span class="copy-word copy-word--glow">inolvidable.</span>
            </p>
          </div>
        </article>
      </div>
    </section>

    <section class="ingredients-section" id="botanicos">
      <h2 class="premium-title premium-title--center">
        <span class="word">BOTÁNICOS</span>
        <span class="word word--accent">SELECCIONADOS</span>
      </h2>

      <div class="ingredients-drift-container">
        <div class="ingredients-drift-track" id="ingredientsDriftTrack">
          <div class="ingredient-item ingredient-item--1">
            <div class="ingredient-card">
              <div class="ingredient-image">
                <img src="img/anis-estrellado.png" alt="Anis Estrellado" loading="lazy">
              </div>
              <p class="ingredient-label">ANÍS ESTRELLADO</p>
            </div>
          </div>

          <div class="ingredient-item ingredient-item--2">
            <div class="ingredient-card">
              <div class="ingredient-image">
                <img src="img/hierba-menta.png" alt="Hierba de Menta" loading="lazy">
              </div>
              <p class="ingredient-label">HIERBA DE MENTA</p>
            </div>
          </div>

          <div class="ingredient-item ingredient-item--3">
            <div class="ingredient-card">
              <div class="ingredient-image">
                <img src="img/regaliz.png" alt="Regaliz" loading="lazy">
              </div>
              <p class="ingredient-label">REGALIZ</p>
            </div>
          </div>

          <div class="ingredient-item ingredient-item--4">
            <div class="ingredient-card">
              <div class="ingredient-image">
                <img src="img/clavo-olor.png" alt="Clavo de Olor" loading="lazy">
              </div>
              <p class="ingredient-label">CLAVO DE OLOR</p>
            </div>
          </div>

          <div class="ingredient-item ingredient-item--5">
            <div class="ingredient-card">
              <div class="ingredient-image">
                <img src="img/manzanilla.png" alt="Manzanilla" loading="lazy">
              </div>
              <p class="ingredient-label">MANZANILLA</p>
            </div>
          </div>

          <div class="ingredient-item ingredient-item--6">
            <div class="ingredient-card">
              <div class="ingredient-image">
                <img src="img/piel-naranja-limon.png" alt="Piel de Naranja y Limon" loading="lazy">
              </div>
              <p class="ingredient-label">PIEL DE NARANJA Y LIMÓN</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="ritual" id="ritual">
      <div class="ritual__content reveal">
        <h2 class="premium-title premium-title--right">
          <span class="word word--outline" data-word="RITUAL">RITUAL</span>
          <span class="word word--accent" data-word="NOCTURNO">NOCTURNO</span>
        </h2>
        <p class="premium-copy premium-copy--right">
          <span class="copy-word">La</span>
          <span class="copy-word">experiencia</span>
          <span class="copy-word copy-word--accent">Krautermeister</span>
          <span class="copy-word">invita</span>
          <span class="copy-word">a</span>
          <span class="copy-word">bajar</span>
          <span class="copy-word">el</span>
          <span class="copy-word">ritmo.</span>
          <span class="copy-word copy-word--outline">Sabor</span>
          <span class="copy-word copy-word--glow">oscuro,</span>
          <span class="copy-word">final</span>
          <span class="copy-word copy-word--accent">largo,</span>
          <span class="copy-word">memoria</span>
          <span class="copy-word copy-word--glow">persistente.</span>
        </p>
        <button class="btn primary">Agendar cata</button>
      </div>
      <div class="watermark">
        <img src="logo.png" alt="Krautermeister" class="watermark__logo" />
      </div>
    </section>

    <section class="contact" id="contacto">
      <div class="contact__content">
        <h2 class="contact__title">Continuar la experiencia</h2>
        <p class="contact__subtitle">Krautermeister — Santa Fe</p>
        <div class="contact__buttons">
          <a href="https://instagram.com/krautermeister_" target="_blank" rel="noopener noreferrer" class="contact__btn">
            <span>Instagram</span>
          </a>
          <a href="https://wa.me/5493425453564" target="_blank" rel="noopener noreferrer" class="contact__btn">
            <span>Contacto directo</span>
          </a>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="footer__content">
      <p class="footer__main">2026 Krautermeister. Santa Fe.</p>
      <div class="footer__credit">
        <span class="footer__credit-label">Designed & Developed by</span>
        <a href="https://instagram.com/axusanalytics" target="_blank" rel="noopener noreferrer" class="footer__credit-studio">AXUS ANALYTICS</a>
      </div>
    </div>
  </footer>

  <!-- GSAP -->
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.14.0/dist/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.14.0/dist/ScrollTrigger.min.js"></script>
  
  <!-- 3D Bottle Initialization - ROBUST VERSION -->
  <script>
    window.addEventListener('load', () => {
      console.log('📄 Page loaded. Initializing 3D bottle...');
      
      // Ensure Three.js is available
      if (typeof THREE === 'undefined') {
        console.error('❌ Three.js not loaded. Check local three.min.js file.');
        return;
      }

      const canvas = document.getElementById('bottle3d');
      if (!canvas) {
        console.error('❌ Canvas #bottle3d not found');
        return;
      }

      // 3D Scene Setup
      const scene = new THREE.Scene();
      scene.background = new THREE.Color(0x0a1410);
      
      const camera = new THREE.PerspectiveCamera(
        26,
        canvas.clientWidth / canvas.clientHeight,
        0.1,
        1000
      );
      camera.position.set(0, 1.0, 6.0);

      const renderer = new THREE.WebGLRenderer({ 
        canvas: canvas, 
        antialias: true, 
        alpha: true 
      });
      renderer.setSize(canvas.clientWidth, canvas.clientHeight);
      renderer.setPixelRatio(window.devicePixelRatio);
      renderer.toneMapping = THREE.ACESFilmicToneMapping;
      renderer.toneMappingExposure = 1.3;
      renderer.outputEncoding = THREE.sRGBEncoding;

      // Lighting - Enhanced brightness
      const ambientLight = new THREE.AmbientLight(0xffffff, 0.8);
      scene.add(ambientLight);

      const directionalLight = new THREE.DirectionalLight(0xff9944, 1.4);
      directionalLight.position.set(3, 3, 3);
      scene.add(directionalLight);

      // Additional rim light for extra shine
      const rimLight = new THREE.DirectionalLight(0xffaa66, 1.0);
      rimLight.position.set(-2, 2, -3);
      scene.add(rimLight);

      // Point light for highlight
      const pointLight = new THREE.PointLight(0xffffff, 1.2, 10);
      pointLight.position.set(0, 3, 2);
      scene.add(pointLight);

      // Load 3D Model
      const loader = new THREE.GLTFLoader();
      
      // Configure DRACO if available
      if (typeof THREE.DRACOLoader !== 'undefined') {
        const dracoLoader = new THREE.DRACOLoader();
        dracoLoader.setDecoderPath('draco/');
        dracoLoader.setDecoderConfig({ type: 'js' });
        loader.setDRACOLoader(dracoLoader);
        console.log('✅ DRACOLoader configured with local JS decoder');
      }

      loader.load(
        'bottle-v1.glb',
        (gltf) => {
          console.log('✅ bottle-v1.glb loaded successfully');
          const bottle = gltf.scene;
          bottle.scale.set(1.05, 1.05, 1.05);
          bottle.position.set(0, 0.45, 0);
          
          // Enhance materials for more shine
          bottle.traverse((child) => {
            if (child.isMesh) {
              if (child.material) {
                child.material.metalness = 0.9;
                child.material.roughness = 0.2;
                child.material.envMapIntensity = 1.5;
                child.material.needsUpdate = true;
              }
            }
          });
          
          scene.add(bottle);
          
          // Animation: Continuous rotation with requestAnimationFrame
          let isAnimating = true;
          
          function animateBottle() {
            if (isAnimating) {
              bottle.rotation.y += 0.005;
              renderer.render(scene, camera);
              requestAnimationFrame(animateBottle);
            }
          }
          animateBottle();
          
          // GSAP animation for 3D bottle (animate Three.js object, not HTML elements)
          if (typeof gsap !== 'undefined') {
            gsap.to(bottle.rotation, {
              y: bottle.rotation.y + Math.PI * 2,
              duration: 15,
              repeat: -1,
              ease: 'none'
            });
            console.log('✅ GSAP 3D animation applied');
          }
        },
        (progress) => {
          const percent = Math.round((progress.loaded / progress.total) * 100);
          console.log(`📥 Loading: ${percent}%`);
        },
        (error) => {
          console.error('❌ Error loading bottle-v1.glb:', error);
          console.warn('💡 Make sure bottle-v1.glb exists in the root directory');
        }
      );

      // Handle window resize
      window.addEventListener('resize', () => {
        const width = canvas.clientWidth;
        const height = canvas.clientHeight;
        camera.aspect = width / height;
        camera.updateProjectionMatrix();
        renderer.setSize(width, height);
      });

      console.log('✅ 3D bottle initialization complete');
    });
  </script>

  <!-- Main Script (GSAP animations) -->
  <script defer src="main.js"></script>
</body>
</html>
